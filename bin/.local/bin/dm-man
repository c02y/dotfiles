#!/bin/env bash
#
# Script name: dm-man
# Description: Search for a manpage or get a random one.

export MANPAGER='vim +Man! -c "set signcolumn=no" -c "set cmdheight=1" -c "set laststatus=1"'

ROFI="rofi -dmenu -theme ~/Dotfiles.d/misc/rofi-theme-solarized_alternate.rasi -theme-str 'window {width: 50%; height: 50%;} configuration {show-icons:false;}' -p"

# shellcheck disable=SC2086
man -k . | awk '{$3="-"; print $0}' | eval ${ROFI} 'MANPAGE' | awk '{print $2, $1}' | tr -d '()' | xargs kitty man
